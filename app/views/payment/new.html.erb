


<!-- <script type="text/javascript" src="https://cdn.iamport.kr/js/iamport.payment-1.1.5.js"></script>

<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js"></script>


<script type="text/javascript">
        function pay_new_test() {
            $(document).ready(function () {

                console.log('함수실행됨');

                var IMP = window.IMP;

                // 가맹점 코드

                IMP.init('imp61725678');


                IMP.request_pay({

                    pg: 'kakaopay', // version 1.1.0부터 지원.

                    pay_method: 'card',

                    merchant_uid: 'merchant_' + new Date().getTime(),

                    name: '주문명:test#1',

                    amount: 100,

                    buyer_email: 'testada2@test.com',

                    buyer_name: 'buyer111',

                    buyer_tel: '010-112-112',

                    buyer_addr: '주소 주소 주소',

                    buyer_postcode: '44444',

                    digital: 'true',

                }, function (rsp) {

                    console.log('호출실행됨');
                    if (rsp.success) {
                        console.log('결제완료');
                        var msg = '결제가 완료되었습니다.';
                        msg += '고유ID : ' + rsp.imp_uid;
                        msg += '상점 거래ID : ' + rsp.merchant_uid;
                        msg += '결제 금액 : ' + rsp.paid_amount;
                        msg += '카드 승인번호 : ' + rsp.apply_num;
                    } else {
                        var msg = '결제에 실패하였습니다.';
                        msg += '에러내용 : ' + rsp.error_msg;
                    }
                })
            });
        }
       
    </script>
<button type="button" onclick="pay_new_test();">결제창 테스트 버튼</button> -->

<!DOCTYPE html>
<html>
<head>

<!-- <link href="/assets/payment.css" media="screen" rel="stylesheet" /> -->
<%=stylesheet_link_tag "payment"%>
<style>
.price{
  width:100px;
  height:50px;
  border-radius:5px;
  background-color:#057075;
  color:white;
  border:none;
}

.label{
  color:black;
  font-size:16px;
}
.pheader{
  display:none;
}

.point_row{
  display: flex;
  justify-content: space-between;
  width:80%;
  margin:auto;
}
@media (max-width: 767px){
  .logo{
    display:none;
  }
  .go-back{
    display:block;
  }
    .navbar-toggler{
      display:none;
    }
    .nav-title{
      display:block;
    }

    .nav-title:after {
      visibility: visible;
      position: absolute;
      width: 100%;
      left: 0;
      text-align: center;
      margin: auto;
      content: "포인트 충전";
    }
    .text-center{
      visibility:hidden;
    }
    h5{
      display:none;
    }
    .point_row{
      width:90%;
}
    }
}


</style>
</head>
<body>
<div class="page">
<div class="column detailview">
    <h5>포인트 충전</h5>
    <div class="charge_cash">

          <%= form_for @charge, url: "/payment/create", html: { id: "myForm" } do |f| %>
          <div class="point_row">
              <div><%= f.label "500원 충전", :class => "label" %></div>
              <%= f.hidden_field :amount, :value => 500 %>
              <div><input type="button" value="500원" class="price-button" onclick="showAccount(500)"></div>
          </div>
          <% end %>
          <hr>
         <%= form_for @charge, url: "/payment/create", html: { id: "myForm" }  do |f| %>
          <div class="point_row">
            <div><%= f.label "2500원 충전", :class => "label" %></div>
            <%= f.hidden_field :amount, :value => 2500 %>
            <div><input type="button" value="2500원" class="price-button" onclick="showAccount(2500)"></div>
          </div>
          <% end %>
        
          <hr>
          <%= form_for @charge, url: "/payment/create", html: { id: "myForm" }  do |f| %>
          <div class="point_row">
            <div><%= f.label "5000원 충전", :class => "label" %></div>
            <%= f.hidden_field :amount, :value => 5000 %>
            <div><input type="button" value="5000원" class="price-button" onclick="showAccount(5000)"></div>
          </div>
          <% end %>
          <hr>
          <%= form_for @charge, url: "/payment/create", html: { id: "myForm" }  do |f| %>
          <div class="point_row">
            <div><%= f.label "10000원 충전", :class => "label"%></div>
            <%= f.hidden_field :amount, :value => 10000 %>
            <div><input type="button" value="10000원" class="price-button" onclick="showAccount(10000)"></div>
          </div>
          <% end %>
          <hr>
        </div>


        <!-- The Modal -->
        <div id="mymodal" class="modal">

          <!-- Modal content -->
          <div class="modal-content" style="color:black;padding:50px;padding-top:20px">
            <span class="close">&times;</span>
            <div id="howmuch"></div>
            <p>신한 110-382-635029로 입금해주세요!</p>
            <button class="btn button form-group btn-block" id="btnClose">확인 완료!</button>
          </div>

        </div>

</div>
</div>
<script type="text/javascript">
  var modal = document.getElementById('mymodal');
  var howmuch = document.getElementById('howmuch');
  var span = document.getElementsByClassName("close")[0];
  var btnClose = document.getElementById('btnClose');

  span.onclick = function() {
      modal.style.display = "none";
  }
  btnClose.onclick = function(){
    document.getElementById("myForm").submit();
    modal.style.display = "none";
  }
   window.onclick = function(event) {
      if (event.target == modal) {
          modal.style.display = "none";
      }
  }

  function showAccount(value){
    howmuch.innerHTML = ""+value;
    modal.style.display = "block";
  }
  

</script>
</body>
</html>